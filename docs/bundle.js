"use strict";(()=>{var O,g,le,He,G,oe,se,ae,ue,K,S,P,Ne,R={},fe=[],Be=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,j=Array.isArray;function w(t,e){for(var n in e)t[n]=e[n];return t}function $(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ae(t,e,n){var r,i,_,c={};for(_ in e)_=="key"?r=e[_]:_=="ref"?i=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?O.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return M(t,c,r,i,null)}function M(t,e,n,r,i){var _={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++le,__i:-1,__u:0};return i==null&&g.vnode!=null&&g.vnode(_),_}function N(t){return t.children}function Y(t,e){this.props=t,this.context=e}function H(t,e){if(e==null)return t.__?H(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?H(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function _e(t){(!t.__d&&(t.__d=!0)&&G.push(t)&&!D.__r++||oe!=g.debounceRendering)&&((oe=g.debounceRendering)||se)(D)}function D(){for(var t,e,n,r,i,_,c,s=1;G.length;)G.length>s&&G.sort(ae),t=G.shift(),s=G.length,t.__d&&(n=void 0,i=(r=(e=t).__v).__e,_=[],c=[],e.__P&&((n=w({},r)).__v=r.__v+1,g.vnode&&g.vnode(n),q(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,_,i??H(r),!!(32&r.__u),c),n.__v=r.__v,n.__.__k[n.__i]=n,ge(_,n,c),n.__e!=i&&de(n)));D.__r=0}function pe(t,e,n,r,i,_,c,s,a,l,f){var o,d,u,p,v,x,m=r&&r.__k||fe,b=e.length;for(a=Re(n,e,m,a,b),o=0;o<b;o++)(u=n.__k[o])!=null&&(d=u.__i==-1?R:m[u.__i]||R,u.__i=o,x=q(t,u,d,i,_,c,s,a,l,f),p=u.__e,u.ref&&d.ref!=u.ref&&(d.ref&&ee(d.ref,null,u),f.push(u.ref,u.__c||p,u)),v==null&&p!=null&&(v=p),4&u.__u||d.__k===u.__k?a=be(u,a,t):typeof u.type=="function"&&x!==void 0?a=x:p&&(a=p.nextSibling),u.__u&=-7);return n.__e=v,a}function Re(t,e,n,r,i){var _,c,s,a,l,f=n.length,o=f,d=0;for(t.__k=new Array(i),_=0;_<i;_++)(c=e[_])!=null&&typeof c!="boolean"&&typeof c!="function"?(a=_+d,(c=t.__k[_]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?M(null,c,null,null,null):j(c)?M(N,{children:c},null,null,null):c.constructor==null&&c.__b>0?M(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=t,c.__b=t.__b+1,s=null,(l=c.__i=Qe(c,n,a,o))!=-1&&(o--,(s=n[l])&&(s.__u|=2)),s==null||s.__v==null?(l==-1&&(i>f?d--:i<f&&d++),typeof c.type!="function"&&(c.__u|=4)):l!=a&&(l==a-1?d--:l==a+1?d++:(l>a?d--:d++,c.__u|=4))):t.__k[_]=null;if(o)for(_=0;_<f;_++)(s=n[_])!=null&&(2&s.__u)==0&&(s.__e==r&&(r=H(s)),he(s,s));return r}function be(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=be(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=H(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Qe(t,e,n,r){var i,_,c=t.key,s=t.type,a=e[n];if(a===null&&t.key==null||a&&c==a.key&&s==a.type&&(2&a.__u)==0)return n;if(r>(a!=null&&(2&a.__u)==0?1:0))for(i=n-1,_=n+1;i>=0||_<e.length;){if(i>=0){if((a=e[i])&&(2&a.__u)==0&&c==a.key&&s==a.type)return i;i--}if(_<e.length){if((a=e[_])&&(2&a.__u)==0&&c==a.key&&s==a.type)return _;_++}}return-1}function ie(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Be.test(e)?n:n+"px"}function W(t,e,n,r,i){var _,c;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||ie(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||ie(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")_=e!=(e=e.replace(ue,"$1")),c=e.toLowerCase(),e=c in t||e=="onFocusOut"||e=="onFocusIn"?c.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?r?n.u=r.u:(n.u=K,t.addEventListener(e,_?P:S,_)):t.removeEventListener(e,_?P:S,_);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ce(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=K++;else if(e.t<n.u)return;return n(g.event?g.event(e):e)}}}function q(t,e,n,r,i,_,c,s,a,l){var f,o,d,u,p,v,x,m,b,Z,J,F,C,X,V,U,E,k=e.type;if(e.constructor!=null)return null;128&n.__u&&(a=!!(32&n.__u),_=[s=e.__e=n.__e]),(f=g.__b)&&f(e);e:if(typeof k=="function")try{if(m=e.props,b="prototype"in k&&k.prototype.render,Z=(f=k.contextType)&&r[f.__c],J=f?Z?Z.props.value:f.__:r,n.__c?x=(o=e.__c=n.__c).__=o.__E:(b?e.__c=o=new k(m,J):(e.__c=o=new Y(m,J),o.constructor=k,o.render=Me),Z&&Z.sub(o),o.props=m,o.state||(o.state={}),o.context=J,o.__n=r,d=o.__d=!0,o.__h=[],o._sb=[]),b&&o.__s==null&&(o.__s=o.state),b&&k.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=w({},o.__s)),w(o.__s,k.getDerivedStateFromProps(m,o.__s))),u=o.props,p=o.state,o.__v=e,d)b&&k.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),b&&o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(b&&k.getDerivedStateFromProps==null&&m!==u&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(m,J),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(m,o.__s,J)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(o.props=m,o.state=o.__s,o.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(A){A&&(A.__=e)}),F=0;F<o._sb.length;F++)o.__h.push(o._sb[F]);o._sb=[],o.__h.length&&c.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(m,o.__s,J),b&&o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(u,p,v)})}if(o.context=J,o.props=m,o.__P=t,o.__e=!1,C=g.__r,X=0,b){for(o.state=o.__s,o.__d=!1,C&&C(e),f=o.render(o.props,o.state,o.context),V=0;V<o._sb.length;V++)o.__h.push(o._sb[V]);o._sb=[]}else do o.__d=!1,C&&C(e),f=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++X<25);o.state=o.__s,o.getChildContext!=null&&(r=w(w({},r),o.getChildContext())),b&&!d&&o.getSnapshotBeforeUpdate!=null&&(v=o.getSnapshotBeforeUpdate(u,p)),U=f,f!=null&&f.type===N&&f.key==null&&(U=me(f.props.children)),s=pe(t,j(U)?U:[U],e,n,r,i,_,c,s,a,l),o.base=e.__e,e.__u&=-161,o.__h.length&&c.push(o),x&&(o.__E=o.__=null)}catch(A){if(e.__v=null,a||_!=null)if(A.then){for(e.__u|=a?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;_[_.indexOf(s)]=null,e.__e=s}else for(E=_.length;E--;)$(_[E]);else e.__e=n.__e,e.__k=n.__k;g.__e(A,e,n)}else _==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):s=e.__e=We(n.__e,e,n,r,i,_,c,a,l);return(f=g.diffed)&&f(e),128&e.__u?void 0:s}function ge(t,e,n){for(var r=0;r<n.length;r++)ee(n[r],n[++r],n[++r]);g.__c&&g.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(_){_.call(i)})}catch(_){g.__e(_,i.__v)}})}function me(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:j(t)?t.map(me):w({},t)}function We(t,e,n,r,i,_,c,s,a){var l,f,o,d,u,p,v,x=n.props,m=e.props,b=e.type;if(b=="svg"?i="http://www.w3.org/2000/svg":b=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),_!=null){for(l=0;l<_.length;l++)if((u=_[l])&&"setAttribute"in u==!!b&&(b?u.localName==b:u.nodeType==3)){t=u,_[l]=null;break}}if(t==null){if(b==null)return document.createTextNode(m);t=document.createElementNS(i,b,m.is&&m),s&&(g.__m&&g.__m(e,_),s=!1),_=null}if(b==null)x===m||s&&t.data==m||(t.data=m);else{if(_=_&&O.call(t.childNodes),x=n.props||R,!s&&_!=null)for(x={},l=0;l<t.attributes.length;l++)x[(u=t.attributes[l]).name]=u.value;for(l in x)if(u=x[l],l!="children"){if(l=="dangerouslySetInnerHTML")o=u;else if(!(l in m)){if(l=="value"&&"defaultValue"in m||l=="checked"&&"defaultChecked"in m)continue;W(t,l,null,u,i)}}for(l in m)u=m[l],l=="children"?d=u:l=="dangerouslySetInnerHTML"?f=u:l=="value"?p=u:l=="checked"?v=u:s&&typeof u!="function"||x[l]===u||W(t,l,u,x[l],i);if(f)s||o&&(f.__html==o.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(o&&(t.innerHTML=""),pe(e.type=="template"?t.content:t,j(d)?d:[d],e,n,r,b=="foreignObject"?"http://www.w3.org/1999/xhtml":i,_,c,_?_[0]:n.__k&&H(n,0),s,a),_!=null)for(l=_.length;l--;)$(_[l]);s||(l="value",b=="progress"&&p==null?t.removeAttribute("value"):p!=null&&(p!==t[l]||b=="progress"&&!p||b=="option"&&p!=x[l])&&W(t,l,p,x[l],i),l="checked",v!=null&&v!=t[l]&&W(t,l,v,x[l],i))}return t}function ee(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){g.__e(i,n)}}function he(t,e,n){var r,i;if(g.unmount&&g.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||ee(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(_){g.__e(_,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&he(r[i],e,n||typeof t.type!="function");n||$(t.__e),t.__c=t.__=t.__e=void 0}function Me(t,e,n){return this.constructor(t,n)}function ye(t,e,n){var r,i,_,c;e==document&&(e=document.documentElement),g.__&&g.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],q(e,t=(!r&&n||e).__k=Ae(N,null,[t]),i||R,R,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?O.call(e.childNodes):null,_,!r&&n?n:i?i.__e:e.firstChild,r,c),ge(_,t,c)}O=fe.slice,g={__e:function(t,e,n,r){for(var i,_,c;e=e.__;)if((i=e.__c)&&!i.__)try{if((_=i.constructor)&&_.getDerivedStateFromError!=null&&(i.setState(_.getDerivedStateFromError(t)),c=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),c=i.__d),c)return i.__E=i}catch(s){t=s}throw t}},le=0,He=function(t){return t!=null&&t.constructor==null},Y.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=w({},this.state),typeof t=="function"&&(t=t(w({},n),this.props)),t&&w(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),_e(this))},Y.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_e(this))},Y.prototype.render=N,G=[],se=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ae=function(t,e){return t.__v.__b-e.__v.__b},D.__r=0,ue=/(PointerCapture)$|Capture$/i,K=0,S=ce(!1),P=ce(!0),Ne=0;var Q,y,te,ve,z=0,ke=[],I=g,xe=I.__b,Ie=I.__r,Ce=I.diffed,Xe=I.__c,Fe=I.unmount,Je=I.__;function re(t,e){I.__h&&I.__h(y,t,z||e),z=0;var n=y.__H||(y.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function B(t){return z=1,Ye(we,t)}function Ye(t,e,n){var r=re(Q++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):we(void 0,e),function(s){var a=r.__N?r.__N[0]:r.__[0],l=r.t(a,s);a!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=y,!y.__f)){var i=function(s,a,l){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(d){return!!d.__c});if(f.every(function(d){return!d.__N}))return!_||_.call(this,s,a,l);var o=r.__c.props!==s;return f.forEach(function(d){if(d.__N){var u=d.__[0];d.__=d.__N,d.__N=void 0,u!==d.__[0]&&(o=!0)}}),_&&_.call(this,s,a,l)||o};y.__f=!0;var _=y.shouldComponentUpdate,c=y.componentWillUpdate;y.componentWillUpdate=function(s,a,l){if(this.__e){var f=_;_=void 0,i(s,a,l),_=f}c&&c.call(this,s,a,l)},y.shouldComponentUpdate=i}return r.__N||r.__}function L(t,e){var n=re(Q++,3);!I.__s&&Ue(n.__H,e)&&(n.__=t,n.u=e,y.__H.__h.push(n))}function Ze(t){return z=5,De(function(){return{current:t}},[])}function De(t,e){var n=re(Q++,7);return Ue(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Oe(){for(var t;t=ke.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(T),t.__H.__h.forEach(ne),t.__H.__h=[]}catch(e){t.__H.__h=[],I.__e(e,t.__v)}}I.__b=function(t){y=null,xe&&xe(t)},I.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Je&&Je(t,e)},I.__r=function(t){Ie&&Ie(t),Q=0;var e=(y=t.__c).__H;e&&(te===y?(e.__h=[],y.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(T),e.__h.forEach(ne),e.__h=[],Q=0)),te=y},I.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ke.push(e)!==1&&ve===I.requestAnimationFrame||((ve=I.requestAnimationFrame)||je)(Oe)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),te=y=null},I.__c=function(t,e){e.some(function(n){try{n.__h.forEach(T),n.__h=n.__h.filter(function(r){return!r.__||ne(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],I.__e(r,n.__v)}}),Xe&&Xe(t,e)},I.unmount=function(t){Fe&&Fe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{T(r)}catch(i){e=i}}),n.__H=void 0,e&&I.__e(e,n.__v))};var Ve=typeof requestAnimationFrame=="function";function je(t){var e,n=function(){clearTimeout(r),Ve&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);Ve&&(e=requestAnimationFrame(n))}function T(t){var e=y,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),y=e}function ne(t){var e=y;t.__c=t.__(),y=e}function Ue(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function we(t,e){return typeof e=="function"?e(t):e}var Te=0,Ke=Array.isArray;function h(t,e,n,r,i,_){e||(e={});var c,s,a=e;if("ref"in a)for(s in a={},e)s=="ref"?c=e[s]:a[s]=e[s];var l={type:t,props:a,key:n,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Te,__i:-1,__u:0,__source:i,__self:_};if(typeof t=="function"&&(c=t.defaultProps))for(s in c)a[s]===void 0&&(a[s]=c[s]);return g.vnode&&g.vnode(l),l}var ze=()=>{let[t,e]=B([]),[n,r]=B(""),[i,_]=B(0),[c,s]=B(""),[a,l]=B(null),f=Ze(null),o=()=>{let p=i;return _(p+1),p};L(()=>{if(a!==null){let p=0,v=setInterval(()=>{s(".".repeat(p%3+1)),p++},400);return()=>clearInterval(v)}else s("")},[a]);let d=async()=>{if(n.trim()==="")return;let p=i,v=i+1;_(v+1);let x={id:p,text:n,isUser:!0,timestamp:Date.now()},m={id:v,text:"",isUser:!1,timestamp:Date.now(),isTyping:!0};e(F=>[...F,x,m]),l(v);let b=null,Z=!1,J=new Promise((F,C)=>{b=setTimeout(()=>{Z=!0,e(X=>X.map(V=>V.id===v?{...V,text:"Sorry, the bot did not respond in time.",isTyping:!1}:V)),l(null),C(new Error("Timeout"))},1e4)});try{let F=await fetch(`https://ai.liukonen.dev?text=${encodeURIComponent(n)}`),C=await Promise.race([F,J]),X;C instanceof Response?X=await C.json():X=C,Z||(e(V=>V.map(U=>U.id===v?{...U,text:X.response,isTyping:!1}:U)),l(null))}catch(F){Z||(e(C=>C.map(X=>X.id===v?{...X,text:"Sorry, there was an error getting a response.",isTyping:!1}:X)),l(null)),console.error("Fetch error:",F)}b&&clearTimeout(b),r("")},u=p=>{p.key==="Enter"&&d()};return L(()=>{e(p=>[...p,{id:o(),text:"Welcome to the chatbot!",isUser:!1}])},[]),L(()=>{f.current&&f.current.scroll({top:f.current.scrollHeight,behavior:"smooth"})},[t]),h("div",{class:"container-fluid h-100",id:"app",children:h("div",{class:"row justify-content-center h-100",children:h("div",{class:"col-12 card h-100",children:[h("div",{class:"card-header msg_head",children:h("div",{class:"d-flex bd-highlight justify-content-between",children:[h("div",{class:"user_info",children:[h("span",{children:"River Chatbot"}),h("p",{children:[h("i",{id:"msgCount",children:i})," Messages"]})]}),h("button",{class:"text-light btn","aria-label":"Info","data-bs-toggle":"modal","data-bs-target":"#aboutModal",children:h("i",{class:"fa-solid fa-address-card fa-2x"})})]})}),h("div",{class:"card-body msg_card_body scr",style:{overflow:"auto"},id:"dialogue",ref:f,children:t.map(p=>h("div",{class:`message ${p.isUser?"user-message":""}`,children:h("div",{class:"message-text",children:p.isTyping?h("span",{children:["Bot is typing",h("span",{style:{fontWeight:"bold"},children:c})]}):p.text})},p.id))}),h("div",{class:"card-footer",children:h("div",{class:"input-group",children:[h("span",{class:"input-group-text attach_btn"}),h("input",{class:"input-field form-control type_msg","aria-label":"Input Message",placeholder:"Type your message...",autoComplete:"off",type:"text",value:n,onInput:p=>r(p.target.value),onKeyDown:u}),h("button",{class:"input-group-text send_btn",onClick:d,children:h("i",{class:"fas fa-location-arrow"})})]})})]})})})},Ge=ze;ye(h(Ge,{}),document.getElementById("data"));})();
//# sourceMappingURL=bundle.js.map
